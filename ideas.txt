- handle more than 1 call to getHistory()
- handle filtering in a more beautiful way
